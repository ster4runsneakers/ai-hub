/* ================== THEME TOKENS ================== */
:root{
  --bg:#fbfbfe; --card:#ffffff; --text:#11131a; --muted:#556070;
  --ring:#e8e8f3; --brand:#5b55ff; --brand-2:#ff77aa;
  --btn:#f4f4fb; --btn-text:#11131a;
}
[data-theme="light"]{
  --bg:#fbfbfe; --card:#ffffff; --text:#11131a; --muted:#556070;
  --ring:#e8e8f3; --brand:#5b55ff; --brand-2:#ff77aa;
  --btn:#f4f4fb; --btn-text:#11131a;
}
[data-theme="dark"]{
  --bg:#0b0b10; --card:#16161f; --text:#e8e8ff; --muted:#9aa0b4;
  --ring:#232334; --brand:#7b5cff; --brand-2:#ff6fb1;
  --btn:#1f1f2b; --btn-text:#e8e8ff;
}
[data-theme="auto"]{
  --bg:#fbfbfe; --card:#ffffff; --text:#11131a; --muted:#556070;
  --ring:#e8e8f3; --brand:#5b55ff; --brand-2:#ff77aa;
  --btn:#f4f4fb; --btn-text:#11131a;
}
@media (prefers-color-scheme: dark){
  [data-theme="auto"]{
    --bg:#0b0b10; --card:#16161f; --text:#e8e8ff; --muted:#9aa0b4;
    --ring:#232334; --brand:#7b5cff; --brand-2:#ff6fb1;
    --btn:#1f1f2b; --btn-text:#e8e8ff;
  }
}

/* ================== BASE ================== */
*{box-sizing:border-box}
html,body{height:100%}
body{ margin:0;background:var(--bg);color:var(--text);font:16px/1.5 system-ui, Segoe UI, Roboto, Arial; }
.wrap{max-width:1100px;margin:0 auto;padding:20px}

/* ================== HEADER ================== */
header{display:flex;gap:16px;align-items:center;justify-content:space-between;margin-bottom:18px}
.brand{display:flex;align-items:center;gap:10px;text-decoration:none;color:var(--text)}
.logo{display:inline-grid;place-items:center;width:38px;height:38px;border-radius:10px;background:linear-gradient(135deg,var(--brand),var(--brand-2));color:#fff;font-weight:800}
.tools{display:flex;gap:8px;align-items:center;flex-wrap:wrap}

/* ================== BUTTONS ================== */
.btn{border:1px solid var(--ring);background:var(--btn);color:var(--btn-text);padding:8px 12px;border-radius:999px;cursor:pointer;transition: box-shadow .15s ease, transform .02s ease;}
.btn:hover{box-shadow:0 0 0 2px var(--ring) inset}
.btn:active{transform:translateY(1px)}
.btn[aria-pressed="true"]{ box-shadow: 0 0 0 2px var(--brand) inset, 0 0 0 2px var(--brand); }
.hint{font-size:12px;color:var(--muted);margin-left:6px}

/* ================== SEARCH & TOOLBAR ================== */
.search{display:flex;gap:8px;margin:10px 0}
.search input,.search select{flex:1;padding:10px 12px;border-radius:12px;border:1px solid var(--ring);background:var(--card);color:var(--text)}
.toolbar{display:flex;justify-content:flex-end;margin:8px 0}

/* ================== GRID & CARDS ================== */
.grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(260px,1fr));gap:14px}
.card{background:var(--card);border:1px solid var(--ring);border-radius:16px;padding:16px;display:flex;flex-direction:column;gap:10px;min-height:180px}
.title{font-weight:800}
.desc{color:var(--muted);font-size:14px}
.badges{display:flex;flex-wrap:wrap;gap:6px}
.badge{font-size:12px;padding:4px 8px;border-radius:999px;border:1px solid var(--ring);color:var(--muted)}
.actions{display:flex;gap:8px;margin-top:auto}
.primary{background:var(--brand);color:#fff;border:0}

/* ================== FOOTER ================== */
footer{margin-top:20px;color:var(--muted);font-size:14px;display:flex;justify-content:space-between;gap:10px;flex-wrap:wrap}

/* ================== MODALS ================== */
.modal-backdrop{position:fixed;inset:0;background:rgba(0,0,0,.45);backdrop-filter:saturate(120%) blur(2px);z-index:90}
.modal{position:fixed;inset:0;display:grid;place-items:center;z-index:100}
.modal-card{width:min(560px,92vw);background:var(--card);color:var(--text);border:1px solid var(--ring);border-radius:16px;padding:16px;box-shadow:0 10px 30px rgba(0,0,0,.25)}
.modal-title{margin:0 0 12px 0;font-weight:800}
.modal-form{display:grid;gap:10px}
.modal-form label{display:grid;gap:6px}
.modal-form input{padding:10px 12px;border-radius:12px;border:1px solid var(--ring);background:var(--bg);color:var(--text)}
.modal-actions{display:flex;gap:8px;justify-content:flex-end;margin-top:4px}

/* Manage list */
.manage-list{display:grid;gap:8px;margin:10px 0}
.manage-row{display:flex;align-items:center;justify-content:space-between;border:1px solid var(--ring);border-radius:12px;padding:10px;background:var(--card)}
.manage-info{display:grid;gap:4px}
.manage-name{font-weight:700}
.manage-meta{color:var(--muted);font-size:13px}

/* Scroll lock œåœÑŒ±ŒΩ Œ±ŒΩŒøŒØŒ≥ŒøœÖŒΩ modals */
.no-scroll{overflow:hidden}

/* üîí Force hide œåœÑŒ±ŒΩ œÖœÄŒ¨œÅœáŒµŒπ [hidden] ‚Äî œÑŒ≠ŒªŒøœÇ œÉœÑŒ± ¬´Œ∫ŒøŒªŒªŒÆŒºŒ±œÑŒ±¬ª */
.modal[hidden], .modal-backdrop[hidden],
#manage-modal[hidden], #manage-backdrop[hidden]{
  display:none !important; visibility:hidden !important; opacity:0 !important; pointer-events:none !important;
}

/* ================== RESPONSIVE ================== */
@media (max-width:540px){
  header{flex-wrap:wrap}
  .tools{width:100%}
  .search{flex-direction:column}
}
